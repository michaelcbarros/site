<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Michael C. Barros — Tracing the Sacred in Contemporary Media</title>
  <meta name="description" content="Michael C. Barros studies how sacred imagination manifests across games, film, and speculative fiction through rigorous theological and cultural analysis." />
  <meta name="theme-color" content="#050310" />

  <link rel="stylesheet" href="./style.css" />
</head>

<body class="home">
  <div class="shell">
    <header class="site-header" aria-label="Site">
      <a class="brand" href="./index.html">Michael C. Barros</a>
      <nav class="nav" aria-label="Primary">
        <a class="nav__link" href="./about.html">About</a>
        <a class="nav__link" href="./books.html">Books</a>
        <a class="nav__link" id="nav-blog" href="#" target="_blank" rel="noopener">Blog</a>
        <a class="nav__link" href="./projects.html">Projects</a>
        <a class="nav__link" id="nav-research" href="#" target="_blank" rel="noopener">Research</a>
        <a class="nav__link" href="./contact.html">Contact</a>
      </nav>
    </header>

    <main>
      <section class="hero" aria-labelledby="home-title">
        <div class="hero__content">
          <h1 id="home-title">Tracing the Sacred in Contemporary Media</h1>
          <p id="rotating" class="hero__tagline">
            Scholarship at the intersection of religion, imagination, and popular culture.
          </p>
          <div class="hero__meta">
            <div class="badge-row" aria-label="Areas of focus">
              <span class="badge">Games</span>
              <span class="badge">Film</span>
              <span class="badge">Speculative Fiction</span>
            </div>
            <div class="cta-row" role="group" aria-label="Primary actions">
              <a class="btn" href="./books.html">Explore Books →</a>
              <a class="btn ghost" id="cta-blog" href="#" target="_blank" rel="noopener">Visit Substack →</a>
            </div>
          </div>
        </div>
        <div class="hero__media" aria-hidden="true">
          <div class="hero__motif">
            <svg viewBox="0 0 200 200" role="presentation" aria-hidden="true">
              <circle cx="100" cy="100" r="74" stroke="rgba(193,201,222,0.5)" stroke-width="1" fill="none" />
              <circle cx="100" cy="100" r="32" stroke="rgba(193,201,222,0.25)" stroke-width="1" fill="none" />
              <path d="M26 100h148M100 26v148" stroke="rgba(209,199,158,0.4)" stroke-width="1" />
              <path d="M56 56l88 88M56 144l88-88" stroke="rgba(193,201,222,0.3)" stroke-width="1" />
              <circle cx="100" cy="100" r="4" fill="rgba(209,199,158,0.8)" />
            </svg>
          </div>
        </div>
      </section>

      <div class="divider" role="presentation"></div>

      <section aria-labelledby="book-heading">
        <div class="section-heading">
          <h2 id="book-heading">Featured Book</h2>
          <a class="link" href="./books.html">All books →</a>
        </div>
        <article class="section-card">
          <div class="feature-grid two-col" id="book-hero">
            <div class="feature-media">
              <img src="data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20400%20600%27%3E%0A%20%20%3Crect%20width%3D%27400%27%20height%3D%27600%27%20fill%3D%27%2311152a%27/%3E%0A%20%20%3Crect%20x%3D%2740%27%20y%3D%2748%27%20width%3D%27320%27%20height%3D%27504%27%20rx%3D%2724%27%20fill%3D%27none%27%20stroke%3D%27%236257a5%27%20stroke-width%3D%272%27/%3E%0A%20%20%3Cpath%20d%3D%27M80%20160h240M80%20300h240M80%20440h240%27%20stroke%3D%27%233f4668%27%20stroke-width%3D%271%27/%3E%0A%20%20%3Ctext%20x%3D%2750%25%27%20y%3D%2752%25%27%20text-anchor%3D%27middle%27%20dominant-baseline%3D%27middle%27%20font-family%3D%27Playfair%20Display%2C%20serif%27%20font-size%3D%2748%27%20fill%3D%27%23d1b97a%27%20letter-spacing%3D%274%27%3EMyth%3C/text%3E%0A%3C/svg%3E" alt="Book cover" loading="lazy" />
            </div>
            <div class="book-copy">
              <h3>Your Current Book</h3>
              <p class="muted">Add details in <code>js/data/data.js</code> to populate this section.</p>
              <div class="cta-row">
                <a class="btn" href="./books.html">Learn more</a>
                <a class="btn ghost" href="./books.html">Buy</a>
              </div>
              <div class="book-desc"></div>
            </div>
          </div>
        </article>
      </section>

      <div class="divider" role="presentation"></div>

      <section aria-labelledby="projects-heading">
        <div class="section-heading">
          <h2 id="projects-heading">Projects</h2>
          <a class="link" href="./projects.html">Browse all →</a>
        </div>
        <div class="grid cols-3" id="projects-grid">
          <a class="card" href="./projects.html">
            <span class="card__motif" aria-hidden="true">
              <svg viewBox="0 0 120 120">
                <circle cx="60" cy="60" r="36" />
                <path d="M60 18v84M18 60h84" />
              </svg>
            </span>
            <span class="badge">Waypoint</span>
            <h3>Waypoint Institute</h3>
            <p>Research and publishing initiative (coming soon).</p>
          </a>
          <a class="card" href="./books.html">
            <span class="card__motif" aria-hidden="true">
              <svg viewBox="0 0 120 120">
                <path d="M60 24l30 52H30z" />
                <path d="M60 24v52" />
              </svg>
            </span>
            <span class="badge">In Progress</span>
            <h3>Zelda &amp; Religion</h3>
            <p>Time, sacrifice, and mythopoesis in The Legend of Zelda.</p>
          </a>
          <a class="card" href="./books.html">
            <span class="card__motif" aria-hidden="true">
              <svg viewBox="0 0 120 120">
                <rect x="28" y="28" width="64" height="64" rx="4" />
                <path d="M28 60h64M60 28v64" />
              </svg>
            </span>
            <span class="badge">Forthcoming</span>
            <h3>The Esoteric Theology of Philip K. Dick</h3>
            <p>Metaphysics of time and the sacred in PKD.</p>
          </a>
        </div>
      </section>

      <div class="divider" role="presentation"></div>

      <section aria-labelledby="media-heading">
        <div class="section-heading">
          <h2 id="media-heading">Latest from Substack</h2>
          <a class="link" id="open-substack" href="#" target="_blank" rel="noopener">Open Substack →</a>
        </div>
        <div class="grid cols-3" id="substack-cards">
          <div class="empty" style="grid-column: 1/-1;">
            Add posts in <code>js/data/data.js</code> to surface Substack updates.
          </div>
        </div>
      </section>

      <div class="divider" role="presentation"></div>

      <section aria-labelledby="bio-heading">
        <article class="section-card">
          <div class="feature-grid two-col">
            <div class="feature-media feature-media--avatar" role="img" aria-label="Abstract portrait of Michael C. Barros"></div>
            <div class="feature-body">
              <span class="eyebrow">About Michael</span>
              <h3 id="bio-heading">Scholar of religion &amp; popular culture</h3>
              <p>Exploring how sacred imagination moves through games, film, and speculative fiction with theological and cultural frameworks for contemporary storytelling.</p>
              <div class="cta-row">
                <a class="btn ghost" href="./about.html">Read full bio</a>
                <a class="btn" href="./contact.html">Connect</a>
              </div>
            </div>
          </div>
        </article>
      </section>
    </main>

    <footer>
      <p class="footer-tagline">Myth · Media · Imagination</p>
      © <span id="year"></span> Michael C. Barros
    </footer>
  </div>

  <script defer src="./js/data/data.js"></script>
  <script defer src="./js/nav.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      // rotating tagline
      (function(){
        const el = document.getElementById('rotating');
        const lines = (window.SITE_DATA && window.SITE_DATA.taglines) || [
          'Where myth and meaning surface in games, film, and fiction.',
          'Interpreting popular media as sites of religious experience.',
          'Religion, imagination, and contemporary culture.'
        ];
        if (!el) return;
        let i = 0;
        const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        if (lines.length < 2 || reduceMotion) {
          el.textContent = lines[0];
          return;
        }
        el.textContent = lines[0];
        setInterval(() => {
          i = (i + 1) % lines.length;
          el.style.opacity = 0;
          setTimeout(() => {
            el.textContent = lines[i];
            el.style.opacity = 1;
          }, 180);
        }, 4200);
      })();

      // footer year
      const year = document.getElementById('year');
      if (year) year.textContent = new Date().getFullYear();

      // featured book
      (function(){
        const FALLBACK_COVER =
          'data:image/svg+xml;charset=UTF-8,' +
          encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 600">
              <rect width="400" height="600" fill="#11152a" />
              <rect x="40" y="48" width="320" height="504" rx="24" fill="none" stroke="#6257a5" stroke-width="2" />
              <path d="M80 160h240M80 300h240M80 440h240" stroke="#3f4668" stroke-width="1" />
              <text x="50%" y="52%" text-anchor="middle" dominant-baseline="middle" font-family="Playfair Display, serif" font-size="48" fill="#d1b97a" letter-spacing="4">Myth</text>
            </svg>
          `);

        const books = (window.SITE_DATA && window.SITE_DATA.books) || window.BOOKS || [];
        if (!books.length) return;
        const featured = books.find(b => b.featured) || books[0];
        const hero = document.getElementById('book-hero');
        if (!hero) return;

        const cover = featured.cover || featured.image || FALLBACK_COVER;
        const url = featured.url || './books.html';
        const buy = (featured.buy_links && featured.buy_links[0]) ? featured.buy_links[0] : null;
        const desc = featured.description || featured.summary || '';

        hero.innerHTML = `
          <div class="feature-media">
            <img class="book-cover" src="${cover}" alt="${featured.title} cover" loading="lazy" />
          </div>
          <div class="book-copy">
            <h3>${featured.title}</h3>
            ${featured.summary ? `<p class="muted">${featured.summary}</p>` : ``}
            <div class="cta-row">
              <a class="btn" href="${url}">Learn more</a>
              ${buy ? `<a class="btn ghost" href="${buy.url}" target="_blank" rel="noopener">${buy.label || 'Buy'}</a>` : ``}
            </div>
            <div class="book-desc">
              ${desc.split(/\n{2,}/).map(p => `<p>${p.trim()}</p>`).join('')}
            </div>
          </div>
        `;
      })();

      // projects
      (function(){
        const projects = (window.SITE_DATA && window.SITE_DATA.projects) || window.PROJECTS || [];
        if (!projects.length) return;
        const grid = document.getElementById('projects-grid');
        if (!grid) return;
        const motif = (id) => {
          switch (id) {
            case 'waypoint':
              return '<span class="card__motif" aria-hidden="true"><svg viewBox="0 0 120 120"><circle cx="60" cy="60" r="40" /><path d="M60 22v76M22 60h76" /></svg></span>';
            case 'zelda-religion':
              return '<span class="card__motif" aria-hidden="true"><svg viewBox="0 0 120 120"><path d="M60 24l32 56H28z" /><path d="M60 24v56" /></svg></span>';
            case 'pkd-theology-proj':
            case 'pkd-theology':
              return '<span class="card__motif" aria-hidden="true"><svg viewBox="0 0 120 120"><rect x="28" y="28" width="64" height="64" rx="6" /><path d="M28 60h64M60 28v64" /></svg></span>';
            default:
              return '<span class="card__motif" aria-hidden="true"><svg viewBox="0 0 120 120"><circle cx="60" cy="60" r="48" /><path d="M28 60h64M60 28v64" /></svg></span>';
          }
        };
        grid.innerHTML = '';
        projects.slice(0, 6).forEach(p => {
          if (p.description) {
            const card = document.createElement('div');
            card.className = 'flip';
            card.innerHTML = `
              <div class="flip-inner">
                <a class="flip-face" href="${p.url || '#'}" ${p.external ? 'target="_blank" rel="noopener"' : ''}>
                  <span class="badge">${p.status || p.type || 'Project'}</span>
                  <h3>${p.title}</h3>
                  <p>${p.short || p.summary || ''}</p>
                </a>
                <a class="flip-back" href="${p.url || '#'}" ${p.external ? 'target="_blank" rel="noopener"' : ''}>
                  <h3>${p.title}</h3>
                  ${p.description ? `<p>${p.description}</p>` : ''}
                </a>
              </div>
            `;
            grid.appendChild(card);
          } else {
            const link = document.createElement('a');
            link.className = 'card';
            link.href = p.url || '#';
            if (p.external) { link.target = '_blank'; link.rel = 'noopener'; }
            link.innerHTML = `
              ${motif(p.id || p.title)}
              <span class="badge">${p.status || p.type || 'Project'}</span>
              <h3>${p.title}</h3>
              <p>${p.short || p.summary || ''}</p>
            `;
            grid.appendChild(link);
          }
        });
      })();

      // substack
      (function(){
        const feed = document.getElementById('substack-cards');
        const posts = (window.SITE_DATA?.substack?.posts || window.SUBSTACK_POSTS || [])
          .slice()
          .sort((a, b) => new Date(b.date) - new Date(a.date))
          .slice(0, 3);
        const blogUrl = (window.SITE_DATA?.links?.blog) || (window.LINKS?.blog) || 'https://mythonoesis.substack.com/';
        const open = document.getElementById('open-substack');
        if (open) open.href = blogUrl;
        if (!feed) return;
        if (!posts.length) return;
        feed.innerHTML = '';
        posts.forEach(post => {
          const a = document.createElement('a');
          a.className = 'card';
          a.href = post.url;
          a.target = '_blank';
          a.rel = 'noopener';
          a.innerHTML = `
            <span class="badge">Post</span>
            <h3>${post.title}</h3>
            ${post.summary ? `<p>${post.summary}</p>` : ''}
          `;
          feed.appendChild(a);
        });
      })();
    });
  </script>
</body>
</html>
